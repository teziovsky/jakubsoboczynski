---
import { getCollection } from 'astro:content';
import Icon from "astro-icon";
import { focusRing, hoverSquare } from "lib/tailwind";
import { twMerge } from "tailwind-merge";
import { directionByIndex } from "utils";

const socialLinks = await getCollection("social-link");
console.log("ðŸš€ ~ socialLinks:", socialLinks)
---

<footer class="flex flex-col items-center justify-center gap-3 sm:flex-row sm:justify-between sm:col-span-2">
  <p class="text-sm">2023 &copy; Jakub SoboczyÅ„ski</p>
  <ul class="flex gap-3">
    {
      socialLinks.sort((a,b) => a.data.sort - b.data.sort).map(({data: socialLink}, index) => (
        <li>
          <a
            class={twMerge("flex p-2 rounded-lg transition", hoverSquare(directionByIndex(index)), focusRing)}
            href={socialLink.link}
            target={socialLink.newTab ? "_blank" : "_self"}
            aria-label={socialLink.altText}>
            <Icon name={socialLink.icon} class="w-5 h-5 sm:w-6 sm:h-6" />
          </a>
        </li>
      ))
    }
  </ul>
</footer>
